## 透過 W3C WCAG 2.0 的 Contrast Ratio 公式取得對比度

在 W3C WCAG 2.0 中定義了文字的視覺呈現與文字圖像的對比度通常至少為 4.5:1 （有些情況可以是別的比例，例如比較大的文字、裝飾用的一些圖像、品牌 logo 或是一部分的文字可能沒有最低對比度的要求)，而這個亮度對比算法可見於 [https://www.w3.org/TR/WCAG20/#visual-audio-contrast](https://www.w3.org/TR/WCAG20/#visual-audio-contrast)，整體公式如下:

```
(L1 + 0.05) / (L2 + 0.05) = 對比度
```

對比度的範圍從 1 到 21 (通常表示為 1:1 到 21:1)。

L1 以及 L2 是什麼待會再來解釋，用應用的層面來舉例的話，簡單的說就是假如有顆按鈕的背景色是已知的，而我們不確定文字顏色該用黑色或是白色才會是比較適合的 Contrast，此時我們就能透過 W3C 上面的公式來計算。

假如按鈕的背景色為 #19299c (某種深藍)，而此時我們的文字顏色假設只有黑色或白色可以選擇的話，那麼文字的顏色選項則為 '#000000' (黑) 以及 '#FFFFFF' (白)。

接著將這些顏色配置帶入以上的公式，而 L1, L2 分別代表:

- L1 是指顏色比較亮的那組相對亮度
- L2 是指顏色比較暗的那組相對亮度


我們可以稍微轉換一下上面那個公式變成好讀的版本:

```
(顏色比較亮的那組相對亮度 + 0.05) / (顏色比較暗的那組相對亮度 + 0.05) = 對比度
```

然後這裡是已經算好的三個主角顏色的相對亮度(L)值:

- #ffffff 的 L 為 1.0 
- #000000 的 L 為 0.0
- #19299c 的 L 為 0.041



當文字顏色我們選擇為白色的時候，這時候我們的 L1 就是 #ffffff、L2 就是 #19299c。 (因為白色的 L > 深藍的 L)
這個配置的對比度為: 

```
// 深藍背景+白色文字
(1.0+0.05)/(0.041928+0.05) = 11.42
```

當文字顏色我們選擇為黑色的時候，這時候我們的 L1 就是 #19299c、L2 就是 #000000。 (因為黑色的 L < 深藍的 L)
這個配置的對比度為: 

```
// 深藍背景+黑色文字
(0.041928+0.05)/(0.0+0.05) = 1.83
```

就兩組顏色配置的對比度來看，以 #19299c 為背景色的按鈕比較不適合使用黑色作為前方的文字顏色，因為對比度的結果明顯低於白色文字的那一組 11.42，而且也沒有達到 W3C WCAG 2.0 的標準 (4.5)。

L1, L2 是相對的，明度的值介於 0.0~1.0 之間

如果有興趣的話也可以使用這個網站 [Luminosity Colour Contrast Ratio Analyser](https://juicystudio.com/services/luminositycontrastratio.php#specify) 看看結果，試著將 #19299c 帶入 Background Colour, 以及使用 #000000/#ffffff 帶入 Foreground colour 看看，計算後會得到一個 contrast ratio 的結果。


